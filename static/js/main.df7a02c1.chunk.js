(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(5),c=a.n(r),l=a(2),m=a.n(l),u=a(3),i=a(6),o=a(1),d=(a(13),function(e){return fetch("https://mate-academy.github.io/react_dynamic-list-of-posts/api/"+e).then((function(e){return e.json()}))}),p=function(e){var t=e.setQuery,a=e.query,n=e.sortedPosts;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{className:"searchbar",type:"text",onChange:function(e){return t(e.target.value)},placeholder:"Search",value:a}),s.a.createElement("ul",null,n.map((function(e){var t;return s.a.createElement("li",{key:e.id,className:"post"},s.a.createElement("div",{className:"post__title"},e.title),s.a.createElement("div",{className:"post__body"},e.body),s.a.createElement("div",{className:"post__user-wrapper"},s.a.createElement("div",{className:"post__user"},s.a.createElement("div",{className:"post__user_name"},"Name:"," ",e.user?e.user.name:"guest user"),s.a.createElement("div",{className:"post__user_email"},"E-mail:"," ",e.user?e.user.email:"no e-mail")),s.a.createElement("div",{className:"post__user_address"},s.a.createElement("div",{className:"post__user_address-city"},"City:"," ",e.user?e.user.address.city:"-"),s.a.createElement("div",{className:"post__user_address-street"},"Street:"," ",e.user?e.user.address.street:"-"),s.a.createElement("div",{className:"post__user_address-zip"},"Zip-code:"," ",e.user?e.user.address.zipcode:"-"))),null===(t=e.comments)||void 0===t?void 0:t.map((function(e){return s.a.createElement("div",{key:String(e.id),className:"post__comment"},s.a.createElement("span",{className:"post__comment_header"},e.name),s.a.createElement("span",{className:"post__comment_title"},e.body),s.a.createElement("span",{className:"post__comment_email"},e.email))})))}))))},_=function(){return s.a.createElement("div",{className:"lds-spinner"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))},E=function(e){var t=e.isLoading,a=e.handleLoad,n=e.errorMessage;return s.a.createElement(s.a.Fragment,null,t?s.a.createElement(_,null):s.a.createElement("button",{className:"main__load-button",disabled:t,type:"button",onClick:a},"Load"),n&&s.a.createElement("span",{className:"error__message"},n))},v=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),_=l[0],v=l[1],f=Object(n.useState)(!1),b=Object(o.a)(f,2),y=b[0],N=b[1],h=Object(n.useState)(""),j=Object(o.a)(h,2),g=j[0],O=j[1],L=Object(n.useState)(""),S=Object(o.a)(L,2),k=S[0],w=S[1],x=function(){var e=Object(i.a)(m.a.mark((function e(){var t,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,d("/posts.json");case 4:return t=e.sent,e.next=7,d("/users.json");case 7:return a=e.sent,e.next=10,d("/comments.json");case 10:n=e.sent,s=t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{user:a.find((function(t){return t.id===e.userId})),comments:n.filter((function(t){return t.postId===e.id}))})})),r(s),N(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),O("Loading from server terminated. Please try again later");case 19:v(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),C=Object(n.useMemo)((function(){return e=k,a.filter((function(t){return(t.title+t.body).toLocaleLowerCase().includes(e.toLocaleLowerCase())}));var e}),[k,a]);return s.a.createElement("div",{className:"main"},s.a.createElement("h1",{className:"main__header"},"Dynamic list of posts"),y?s.a.createElement(p,{setQuery:w,query:k,sortedPosts:C}):s.a.createElement(E,{isLoading:_,handleLoad:x,errorMessage:g}))};c.a.render(s.a.createElement(v,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.df7a02c1.chunk.js.map